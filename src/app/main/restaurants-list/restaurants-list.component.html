<div id="index">
<!-- navbar -->
    <app-header></app-header>
    <!-- navbar   -->

    <!-- bj-background -->
    <div class="bj-background">
        <h1>RESTAURANTS</h1>
        <!-- <div class="search-list">
          <app-search-list></app-search-list>
        </div> -->
    </div>
  <!-- bj-item-box -->

    <div class="bj-item-box">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-12">
                    <div class="medium-price">
                    <h5 class="border-h5" style="text-transform: uppercase;">{{title}}</h5>
                            <div style="display: flex; flex-wrap: wrap;">
                                <div *ngFor="let restaurant of restaurantsList" class="col-lg-4 col-md-6 col-12 my-4" >
                                    <div class="card" (click)="onSelectRes(restaurant)"> 
                                        <img *ngIf="restaurant.photos" class="card-img-top" src="{{restaurant?.photos[0]?.getUrl()+'=s30-w45'}}" alt="Card image cap">
                                        <img *ngIf="!restaurant.photos" class="card-img-top" src="https://cms.hostelworld.com/hwblog/wp-content/uploads/sites/2/2014/08/6.jpg" alt="Card image cap">
                                        <div class="card-body">
                                            <h5 class="card-title">{{restaurant.name}}</h5>                                         
                                            <p class="card-text" *ngIf="restaurant.price_level == 0 || !restaurant.price_level">{{restaurant.vicinity}}</p>
                                            <p class="card-text" *ngIf="restaurant.price_level == 1">$ {{restaurant.vicinity}}</p>
                                            <p class="card-text" *ngIf="restaurant.price_level == 2">$$ {{restaurant.vicinity}}</p>
                                            <p class="card-text" *ngIf="restaurant.price_level == 3">$$$ {{restaurant.vicinity}}</p>
                                            <p class="card-text" *ngIf="restaurant.price_level == 4">$$$$ {{restaurant.vicinity}}</p>
                                        </div>
                                        <div class="card-footer border-success" div fxLayout="row" fxLayoutAlign="start center" >
                                            <div>{{restaurant.user_ratings_total}}  Reviws </div>
                                            
                                            <!-- <star-rating  totalstars="5" Label Position: none checkedcolor="red" uncheckedcolor="#ffffff" size="24px" readonly="true" (rate)="onRate($event)"></star-rating> -->
                                            <ngx-star-rating class="ngx-star" [(ngModel)]="restaurant.rating"></ngx-star-rating>
                                        </div>
                                    </div>
                                </div>
                            </div>
                       
                        <div class="div-border-bottom"></div>
                    </div>  

                </div>
            </div>
        </div>
    </div>
    
    <!-- bj-item-box -->
    
    <!-- bj-march-deals -->
    <div class="bj-march-deals">
        <div class="container">
            <h5 class="border-h5">MARCH <span>DEALS</span></h5>
            <div class="row">
                <div class="col-lg-5 col-md-12 col-12 my-3">
                    <div class="bj-image1 ">
                        <div class="date traditional">
                            <p>
                                <span class="day">50%</span>
                                <span class="month">OFF</span>
                            </p>
                        </div>
                        <p class="p-padding">Restaurant Name,New York,United Stataes </p>
                        <p class="span-p"><a href="#"> Explore  > </a></p>
                    </div>
                </div>

                <div class="col-lg-7 col-md-12 col-12">
                    <div class="row">
                        <div class="col-lg-6 col-md-6 col-12 my-3">
                            <div class="bj-image2 ">
                                <div class="date traditional">
                                    <p>
                                        <span class="day">20%</span>
                                        <span class="month">OFF</span>
                                    </p>
                                </div>
                                 <p class="p-padding">Restaurant Name,New York,United Stataes </p>
                                <p class="span-p"><a href="#"> Explore  > </a></p>
                            </div>
                        </div>

                         <div class="col-lg-6 col-md-6 col-12 my-3">
                            <div class="bj-image3 ">
                                <div class="date traditional">
                                    <p>
                                        <span class="day">50%</span>
                                        <span class="month">OFF</span>
                                    </p>
                                </div>
                                <p class="p-padding">Restaurant Name,New York,United Stataes </p>
                                <p class="span-p"><a href="#"> Explore  > </a></p>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>
    <!-- bj-march-deals -->

    <!-- bj-map -->
    <div class="bj-map">
        <div class="container">
            <span class="flate">Explore our map ></span>
            <h5 class="border-h5"><span>BE</span> INSPIRED</h5>
            <agm-map class="map" [latitude]="restaurantsList[0].geometry.location.lat()" [longitude]="restaurantsList[0].geometry.location.lng()" [zoom]="8" [disableDefaultUI]="true" [scrollwheel]="flase" [zoomControl]="false" [scaleControl]="false" [gestureHandling]="'cooperative'">
              
                <agm-marker *ngFor="let restaurant of restaurantsList" [latitude]="restaurant.geometry.location.lat()" [longitude]="restaurant.geometry.location.lng()" [markerDraggable]="false" (dragEnd)='markerDragEnd($event)'></agm-marker>
            </agm-map>
        </div>
    </div>
    <!-- bj-map -->

    <app-footer></app-footer>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function () {
            $(".content").hide();
            $(".show_hide").on("click", function () {
                var txt = $(this).next(".content").is(':visible') ? 'Show More <i class="fa fa-caret-down"></i>' : 'Show Less <i class="fa fa-caret-up"></i>';
                $(this).html(txt);
                $(this).next('.content').slideToggle(200);
            });
        });
    </script>
</div>
